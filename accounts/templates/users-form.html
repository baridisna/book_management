{% load widget_tweaks %}
<div class="row">
    <!-- <div class="col-lg-3 col-sm-12 d-flex">
        <div class="card mb-4 w-100">
            <div class="card-header">
                <i class="fa-solid fa-user"></i>
                Profil Picture
            </div>
            <div class="card-body">
            </div>
        </div>
    </div> -->
    <div class="col-lg-12 col-sm-12">
        <div class="card mb-4">
            <div class="card-header">
                <i class="fa-solid fa-user"></i>
                Account Details
            </div>
            <div class="card-body">
                {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                {% if page == 'users-add' %}
                <form method="post" action="{% url 'users-add' %}">
                {% elif page == 'users-edit' %}
                <form method="post" action="{{ request.path }}">
                {% else %}
                <form method="post" action="{% url 'profile' %}">
                {% endif %}
                
                    {% csrf_token %}
                    <div class="form-floating mb-3">
                        {% render_field form.username class+="form-control" placeholder="Username" %}
                        <label for="id_username">Username</label>
                        {{ form.username.errors }}
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                {% render_field form.first_name class+="form-control" placeholder="Enter your First Name" %}
                                <label for="id_first_name">First name</label>
                                {{ form.first_name.errors }}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                {% render_field form.last_name class+="form-control" placeholder="Enter your Last Name" %}
                                <label for="id_last_name">Last name</label>
                                {{ form.last_name.errors }}
                            </div>
                        </div>
                    </div>
                    <div class="form-floating mb-3">
                        {% render_field form.email class+="form-control" placeholder="isna@email.com" %}
                        <label for="id_email">Email address</label>
                        {{ form.email.errors }}
                    </div>
                    <div class="form-floating mb-3">
                        {% render_field form.date_of_birth class+="form-control" placeholder="22/07/2007" type="date" %}
                        <label for="id_date_of_birth">Date of Birth</label>
                        {{ form.date_of_birth.errors }}
                    </div>
                    <div class="form-floating mb-3">
                        {% render_field form.phone_number class+="form-control" placeholder="082137557920" %}
                        <label for="id_phone_number">Phone Number</label>
                        {{ form.phone_number.errors }}
                    </div>
                    {% if page == 'users-edit' or page == 'users-add' %}
                    <div class="form-floating mb-3">
                        {% render_field form.role class+="form-select" %}
                        <label for="id_role">Role</label>
                        {{ form.role.errors }}
                    </div>
                    {% endif %}
                    <div class="mt-4 mb-0">
                        <div>
                            <input type="submit" class="btn btn-primary btn-block" value="Save Changes">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>